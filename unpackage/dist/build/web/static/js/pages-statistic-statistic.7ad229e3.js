(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-statistic-statistic"],{"30ef":function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * è¿™é‡Œæ˜¯uni-appå†…ç½®çš„å¸¸ç”¨æ ·å¼å˜é‡\n *\n * uni-app å®˜æ–¹æ‰©å±•æ’ä»¶åŠæ’ä»¶å¸‚åœºï¼ˆhttps://ext.dcloud.net.cnï¼‰ä¸Šå¾ˆå¤šä¸‰æ–¹æ’ä»¶å‡ä½¿ç”¨äº†è¿™äº›æ ·å¼å˜é‡\n * å¦‚æœä½ æ˜¯æ’ä»¶å¼€å‘è€…ï¼Œå»ºè®®ä½ ä½¿ç”¨scssé¢„å¤„ç†ï¼Œå¹¶åœ¨æ’ä»¶ä»£ç ä¸­ç›´æ¥ä½¿ç”¨è¿™äº›å˜é‡ï¼ˆæ— éœ€ import è¿™ä¸ªæ–‡ä»¶ï¼‰ï¼Œæ–¹ä¾¿ç”¨æˆ·é€šè¿‡æ­ç§¯æœ¨çš„æ–¹å¼å¼€å‘æ•´ä½“é£æ ¼ä¸€è‡´çš„App\n *\n */\n/**\n * å¦‚æœä½ æ˜¯Appå¼€å‘è€…ï¼ˆæ’ä»¶ä½¿ç”¨è€…ï¼‰ï¼Œä½ å¯ä»¥é€šè¿‡ä¿®æ”¹è¿™äº›å˜é‡æ¥å®šåˆ¶è‡ªå·±çš„æ’ä»¶ä¸»é¢˜ï¼Œå®ç°è‡ªå®šä¹‰ä¸»é¢˜åŠŸèƒ½\n *\n * å¦‚æœä½ çš„é¡¹ç›®åŒæ ·ä½¿ç”¨äº†scssé¢„å¤„ç†ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ä½ çš„ scss ä»£ç ä¸­ä½¿ç”¨å¦‚ä¸‹å˜é‡ï¼ŒåŒæ—¶æ— éœ€ import è¿™ä¸ªæ–‡ä»¶\n */\n/* é¢œè‰²å˜é‡ */\n/* è¡Œä¸ºç›¸å…³é¢œè‰² */\n/* æ–‡å­—åŸºæœ¬é¢œè‰² */\n/* èƒŒæ™¯é¢œè‰² */\n/* è¾¹æ¡†é¢œè‰² */\n/* å°ºå¯¸å˜é‡ */\n/* æ–‡å­—å°ºå¯¸ */\n/* å›¾ç‰‡å°ºå¯¸ */\n/* Border Radius */\n/* æ°´å¹³é—´è· */\n/* å‚ç›´é—´è· */\n/* é€æ˜åº¦ */\n/* æ–‡ç« åœºæ™¯ç›¸å…³ */.statistic-page[data-v-5a4e685a]{min-height:100vh;display:flex;flex-direction:column}.kline-box[data-v-5a4e685a]{flex:1;display:flex;min-height:0;overflow:hidden}.kline-iframe[data-v-5a4e685a]{width:100%;border:0;display:block}.detail-buy-section[data-v-5a4e685a]{padding-top:%?20?%}.detail-card[data-v-5a4e685a]{margin-bottom:%?20?%}.detail-row[data-v-5a4e685a]{border-bottom:1px solid;border-bottom-color:rgba(0,0,0,.05)}.detail-row[data-v-5a4e685a]:last-child{border-bottom:none}.quantity-row[data-v-5a4e685a]{padding:%?30?% 0;min-height:auto}.quantity-section[data-v-5a4e685a]{display:flex;flex-direction:column;gap:%?24?%;width:100%}.quantity-label[data-v-5a4e685a]{margin-bottom:%?8?%}.quantity-controls-row[data-v-5a4e685a]{display:flex;flex-direction:row;align-items:center;gap:%?16?%;width:100%}.quantity-input-container[data-v-5a4e685a]{display:flex;align-items:center;justify-content:center;flex:1}.quantity-btn[data-v-5a4e685a]{display:flex;align-items:center;justify-content:center;cursor:pointer}.quantity-input-wrapper[data-v-5a4e685a]{display:flex;align-items:center;justify-content:center;width:%?100?%;border-radius:%?8?%;padding:%?8?%}.quantity-input[data-v-5a4e685a]{width:100%;text-align:center;border:none;outline:none;background:transparent;padding:0}.quantity-action-btn[data-v-5a4e685a]{display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;flex:1}.quantity-action-btn[data-v-5a4e685a]:active{opacity:.7;-webkit-transform:scale(.95);transform:scale(.95)}.buy-button-container[data-v-5a4e685a]{position:-webkit-sticky;position:sticky;bottom:0;background:transparent;z-index:10}.buy-button[data-v-5a4e685a]{width:100%;cursor:pointer;transition:all .3s ease}.buy-button[data-v-5a4e685a]:active{opacity:.8;-webkit-transform:scale(.98);transform:scale(.98)}',""]),t.exports=e},"78ab":function(t,e,a){"use strict";a.r(e);var i=a("7d0e"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"7d0e":function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("64aa"),a("c223"),a("5c47"),a("a1c1"),a("aa9c");var i={data:function(){return{id:"",selectedInterval:"D",stock:{},chartData:[],chartUrl:"",language:"en",quantity:1,balance:0,flag:!0}},onLoad:function(t){console.log("ğŸš€ ~ onLoad ~ options:",t),t.id&&(this.id=t.id),this.language=uni.getStorageSync("language")},onShow:function(){this.getStatistic(),this.getChartData(),this.getChartUrl()},computed:{theme:function(){return this.$store.getters.theme},themeKey:function(){return this.$store.state.themeKey||"light"},intervals:function(){return[{value:"D",label:this.$t("statistic.dailyK")},{value:"W",label:this.$t("statistic.weeklyK")},{value:"M",label:this.$t("statistic.monthlyK")}]},totalAmount:function(){var t=Number(this.stock.price||0),e=Number(this.quantity||1);return t*e},maxQuantity:function(){var t=Number(this.stock.price||0);if(t<=0)return 9999;var e=Math.floor(this.balance/t);return Math.max(1,e)}},methods:{getChartUrl:function(){this.chartUrl="static/chart-widgets/index.html?stock_id=".concat(this.id,"&interval=").concat(this.selectedInterval,"&theme=").concat(this.themeKey,"&language=").concat(this.language)},setInterval:function(t){this.selectedInterval=t,this.getChartData(),this.getChartUrl()},tabStyle:function(t){var e=this.selectedInterval===t.value;return{background:e?this.theme.primary__500:this.theme.backgroundTertiary,color:e?this.theme.white:this.theme.textPrimary}},getStatistic:function(){var t=this;this.post("/index/get_stock_detail",{stock_id:this.id}).then((function(e){console.log("ğŸš€ ~ getStatistic ~ res:",e),t.stock=e.data,e.data&&void 0!==e.data.balance?t.balance=Number(e.data.balance)||0:e.data&&void 0!==e.data.available_balance?t.balance=Number(e.data.available_balance)||0:e.data&&void 0!==e.data.availableBalance&&(t.balance=Number(e.data.availableBalance)||0)}))},getChartData:function(){this.post("/index/kline",{stock_id:this.id,interval:this.selectedInterval}).then((function(t){console.log("ğŸš€ ~ getChartData ~ res:",t)}))},getPriceColor:function(){var t=Number(this.stock.change_pct||0);return t>=0?this.theme.primary__500:this.theme.success},getMinusStyle:function(){return{background:this.theme.backgroundTertiary,borderRadius:"50%",width:"60rpx",height:"60rpx",display:"flex",alignItems:"center",justifyContent:"center"}},getPlusStyle:function(){return{background:this.theme.primary__500,borderRadius:"50%",width:"60rpx",height:"60rpx",display:"flex",alignItems:"center",justifyContent:"center"}},getActionButtonStyle:function(){return{background:this.theme.backgroundTertiary,padding:"12rpx 24rpx",borderRadius:"8rpx",border:"1px solid ".concat(this.theme.neutral__200),minWidth:"100rpx",textAlign:"center"}},setHalfQuantity:function(){var t=Number(this.stock.price||0);if(!(t<=0)){var e=this.balance/2,a=Math.floor(e/t);this.quantity=Math.max(1,a)}},setFullQuantity:function(){var t=Number(this.stock.price||0);if(!(t<=0)){var e=Math.floor(this.balance/t);this.quantity=Math.max(1,e)}},handleQuantityInput:function(t){var e=t.detail.value||t.target.value;e=String(e).replace(/[^0-9]/g,""),e=Number(e),isNaN(e)||e<1?this.quantity=1:e>this.maxQuantity?this.quantity=this.maxQuantity:this.quantity=Math.floor(e)},handleBuy:function(){var t=this;this.flag&&(!this.quantity||this.quantity<1?this.tos(this.$t("statistic.selectQuantity")||"Please select quantity"):(console.log("Buy:",{id:this.id,num:this.quantity}),this.flag=!1,this.post("/etf/etf_sub",{id:this.id,num:this.quantity}).then((function(e){t.flag=!0,1===e.code?(t.tos(e.msg),setTimeout((function(){t.router.push("/pages/statistic/record")}),1e3)):t.tos(e.msg)}))))}}};e.default=i},"8d6d":function(t,e,a){"use strict";a.r(e);var i=a("a4ef"),n=a("78ab");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("d890");var o=a("828b"),l=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"5a4e685a",null,!1,i["a"],void 0);e["default"]=l.exports},a4ef:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i}));var i={appNav:a("3d76").default,uNumberBox:a("528e").default,uIcon:a("531b").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"statistic-page",style:{background:t.theme.backgroundPrimary}},[a("app-nav",{attrs:{title:t.stock.name||"---",showRightImage:!0,rightImageUrl:"/static/imgs/fund/record.png"},on:{"right-action":function(e){arguments[0]=e=t.$handleEvent(e),t.router.push("/pages/statistic/record")}}}),a("v-uni-view",{staticClass:"padding-w-30"},[a("v-uni-view",{staticClass:"flex justify-between align-center"},[a("v-uni-view",{staticClass:"flex flex-direction"},[a("v-uni-text",{staticClass:"font-32",style:{color:t.theme.textPrimary}},[t._v(t._s(t.stock.name||"---"))])],1),a("v-uni-view",{staticClass:"text-right flex flex-direction"},[a("v-uni-text",{staticClass:"font-40 weight-bold",style:{color:t.theme.textPrimary}},[t._v(t._s(t.stock.price||"--"))]),a("v-uni-view",[a("v-uni-text",{staticClass:"font-24",style:{color:(Number(t.stock.change_pct)||0)>=0?t.theme.stockUp:t.theme.stockDown}},[t._v(" "+t._s(t.$t("statistic.dailyChange"))+": "+t._s((Number(t.stock.change_pct)||0)>=0?"+":"")+t._s(t.stock.change_pct||"0.00")+"% ")])],1)],1)],1)],1),a("v-uni-view",{staticClass:"width-100b margin-0-auto flex justify-start gap-20 padding-w-30"},t._l(t.intervals,(function(e){return a("v-uni-view",{key:e.value,staticClass:"radiu-20 padding-16",style:t.tabStyle(e),on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.setInterval(e.value)}}},[a("v-uni-text",{staticClass:"font-24"},[t._v(t._s(e.label))])],1)})),1),a("v-uni-view",{staticClass:"kline-box width-100b margin-0-auto"},[a("iframe",{staticClass:"kline-iframe",attrs:{src:t.chartUrl}})]),a("v-uni-view",{staticClass:"detail-buy-section padding-w-30"},[a("v-uni-view",{staticClass:"detail-card"},[a("v-uni-view",{staticClass:"detail-row height-66 flex align-center justify-between"},[a("v-uni-text",{staticClass:"font-28",style:{color:t.theme.textSecondary}},[t._v(t._s(t.$t("statistic.name")))]),a("v-uni-text",{staticClass:"font-28 bold-font",style:{color:t.theme.textPrimary}},[t._v(t._s(t.stock.name||"---"))])],1),a("v-uni-view",{staticClass:"detail-row height-66 flex align-center justify-between"},[a("v-uni-text",{staticClass:"font-28",style:{color:t.theme.textSecondary}},[t._v(t._s(t.$t("statistic.new")))]),a("v-uni-text",{staticClass:"font-28 bold-font",style:{color:t.getPriceColor()}},[t._v(t._s(Number(t.stock.price||0).toFixed(3)))])],1),a("v-uni-view",{staticClass:"detail-row height-66 flex align-center justify-between"},[a("v-uni-text",{staticClass:"font-28",style:{color:t.theme.textSecondary}},[t._v(t._s(t.$t("statistic.balance")||"Balance"))]),a("v-uni-text",{staticClass:"font-28 bold-font",style:{color:t.theme.textPrimary}},[t._v(" "+t._s(Number(t.balance||0).toFixed(2))+" ")])],1),a("v-uni-view",{staticClass:"detail-row quantity-row"},[a("v-uni-view",{staticClass:"quantity-section"},[a("v-uni-text",{staticClass:"quantity-label font-30",style:{color:t.theme.textSecondary}},[t._v(t._s(t.$t("statistic.selectQuantity")))]),a("v-uni-view",{staticClass:"quantity-controls-row"},[a("v-uni-view",{staticClass:"quantity-action-btn",style:t.getActionButtonStyle(),on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setHalfQuantity.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"font-24",style:{color:t.theme.textPrimary}},[t._v(t._s(t.$t("statistic.half")||"Half"))])],1),a("v-uni-view",{staticClass:"quantity-action-btn",style:t.getActionButtonStyle(),on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setFullQuantity.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"font-24",style:{color:t.theme.textPrimary}},[t._v(t._s(t.$t("statistic.full")||"Full"))])],1),a("v-uni-view",{staticClass:"quantity-input-container"},[a("u-number-box",{attrs:{min:1,max:t.maxQuantity,step:1,disabled:!1},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}},[a("v-uni-view",{staticClass:"quantity-btn minus-btn",style:t.getMinusStyle(),attrs:{slot:"minus"},slot:"minus"},[a("u-icon",{attrs:{name:"minus",color:t.theme.textPrimary,size:"14"}})],1),a("v-uni-view",{staticClass:"quantity-input-wrapper",style:{background:t.theme.backgroundTertiary},attrs:{slot:"input"},slot:"input"},[a("v-uni-input",{staticClass:"quantity-input font-28 bold-font",style:{color:t.theme.textPrimary},attrs:{type:"number",min:1,max:t.maxQuantity},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.handleQuantityInput.apply(void 0,arguments)}},model:{value:t.quantity,callback:function(e){t.quantity=t._n(e)},expression:"quantity"}})],1),a("v-uni-view",{staticClass:"quantity-btn plus-btn",style:t.getPlusStyle(),attrs:{slot:"plus"},slot:"plus"},[a("u-icon",{attrs:{name:"plus",color:t.theme.white,size:"14"}})],1)],1)],1)],1)],1)],1),a("v-uni-view",{staticClass:"detail-row height-66 flex align-center justify-between"},[a("v-uni-text",{staticClass:"font-28",style:{color:t.theme.textSecondary}},[t._v(t._s(t.$t("statistic.totalAmount")))]),a("v-uni-text",{staticClass:"font-28 bold-font",style:{color:t.getPriceColor()}},[t._v(" "+t._s(Number(t.totalAmount).toFixed(3))+" ")])],1)],1),a("v-uni-view",{staticClass:"buy-button-container padding-t-20 padding-b-30"},[a("v-uni-view",{staticClass:"buy-button flex align-center justify-center padding-25 radiu-30",style:{background:t.theme.primary__500,color:t.theme.white},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleBuy.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"font-32"},[t._v(t._s(t.$t("statistic.buyNow")))])],1)],1)],1)],1)},s=[]},d890:function(t,e,a){"use strict";var i=a("dd8e"),n=a.n(i);n.a},dd8e:function(t,e,a){var i=a("30ef");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("7c9e529f",i,!0,{sourceMap:!1,shadowMode:!1})}}]);